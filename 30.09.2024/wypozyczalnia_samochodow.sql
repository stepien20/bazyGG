DROP DATABASE IF EXISTS wypozyczalnia_samochodow;

CREATE DATABASE wypozyczalnia_samochodow;

USE  wypozyczalnia_samochodow;
				
CREATE TABLE klienci (id_klienta INT auto_increment PRIMARY KEY,
					  imie_klienta VARCHAR (45),
					  nazwisko_klienta VARCHAR (45),
					  ulica_klienta VARCHAR (45),
					  numer_domu_klienta VARCHAR(8),
					  miasto_klienta VARCHAR (45),
					  kod_klienta VARCHAR (6),
					  telefon_klienta VARCHAR (14),
					  email_klienta VARCHAR (50),
					  plec VARCHAR(1)
					  );
						
create table pracownicy (id_pracownika INT auto_increment PRIMARY KEY,
						 imie_pracownika VARCHAR (45),
						 nazwisko_pracownika VARCHAR (45),
						 miasto_pracownika VARCHAR (45),
						 telefon_pracownika VARCHAR (14),
						 email_pracownika VARCHAR (50),
						 szef_id INT
						 );
create table klasy_samochodow (id_klasy INT auto_increment PRIMARY KEY,
							   nazwa_klasy VARCHAR(45)
							   );						 
							
create table samochody (id_samochodu INT auto_increment PRIMARY KEY,
						marka VARCHAR (20),
						model VARCHAR (20),
						data_prod YEAR,
						cena_katalogowa DECIMAL(8,2),
						nr_rejestracyjny VARCHAR(8),
						id_klasy INT,
						CONSTRAINT kls_1 FOREIGN key (id_klasy) REFERENCES klasy_samochodow(id_klasy) ON DELETE SET NULL ON UPDATE CASCADE 
						);
						
create table wypozyczenia (id_wypozyczenia INT auto_increment PRIMARY KEY,
						   data_wyp DATE,
						   data_zwr DATE,
						   id_klienta INT,
						   id_pracownika INT,
						   CONSTRAINT k_1 FOREIGN key (id_klienta) REFERENCES klienci(id_klienta) ON DELETE SET NULL ON UPDATE CASCADE,
						   CONSTRAINT p_1 FOREIGN key (id_pracownika) REFERENCES pracownicy(id_pracownika) ON DELETE SET NULL ON UPDATE CASCADE							
						   );

CREATE TABLE dane_wypozyczen (id_wypozyczenia INT,
							  id_samochodu INT,
						      cena_doba DECIMAL(8,2),
						      ilosc_dob INT,
							  CONSTRAINT w_1 FOREIGN KEY (id_wypozyczenia) REFERENCES wypozyczenia (id_wypozyczenia) ON DELETE SET NULL ON UPDATE CASCADE,
							  CONSTRAINT s_1 FOREIGN KEY (id_samochodu) REFERENCES samochody (id_samochodu) ON DELETE no action ON UPDATE CASCADE
							  );
						
					
INSERT INTO klienci (imie_klienta,nazwisko_klienta,ulica_klienta,numer_domu_klienta,miasto_klienta,kod_klienta,telefon_klienta,email_klienta,plec) 
VALUES ('Damian','Stelmach','Mokra','6','Grajewo','19-200','985-746-350','stelmaszczyk@wp.pl','M'),
	   ('Adam','Wrzosek','Sucha','16','Bielsko-Biała','43-400','756-358-068','wrzosek_adam@gmail.com','M'),
	   ('Mateusz','Karski','Ciepla','12','Gliwice','44-100','674-968-785','mati_25@onet.pl','M'),
	   ('Anna','Ajewska','Wolna','21/3','Biłgoraj','23-400','455-734-224','konstytucja_jest_ok@gmail.com','K'),
	   ('Dawid','Stary','Kopernika','10/23','Brzegabrze','49-300','485-236-150','mlody_stary@wp.pl','M'),
	   ('Monika','Młoda','Mickiewicza','22/12','Zabrze','41-700','985-749-607','monia21@gmail.com','K'),
	   ('Weronika','Eczarska','Chorzowska','6/1','Chorzów','40-100','185-716-150','ecza_pecza@onet.pl','K'),
	   ('Marek','Marecki','Piotrowska','26','Łódź','90-000','856-368-028','marunio@wp.pl','M'),
	   ('Tomasz','Karwowski','Zimna','112','Białystok','15-000','485-769-617','karwowski_tomek@gmail.com','M'),
	   ('Grażyna','Witkowska','Andersa','67b/2','Kielce','25-000','345-726-354','witkowa17@onet.pl','K'),
	   ('Zbigniew','Swawolny','Opolska','166','Wrocław','55-030','726-358-088','zbusiu@wp.pl','M'),
	   ('Stefan','Maciejewski','Wrocławska','1/16','Katowice','40-010','785-729-647','stefanek_m@wp.pl','M'),
	   ('Wioletta','Frywolna','Zabrzańska','3','Świętochłowice','41-500','685-700-323','wiolka_f@onet.pl','K'),
	   ('Franciszek','Malczewski','Błotnista','1a/5','Kraków','33-030','746-318-168','malcze_fr@gmail.com','M'),
	   ('Wiktoria','Mrozek','Witosa','124','Zakopane','34-500','985-249-628','mro_wik@gmail.com','K'),
	   ('Tadeusz','Mróz','Czereśniowa','16','Wrocław','55-030','756-378-800','tadzio@onet.pl','M'),
	   ('Marta','Ciesielowska','Konstytycji','5b/45','Gliwice','44-100','875-794-333','martunia_c@wp.pl','K'),
	   ('Bartosz','Farma','Zabrzańska','12','Katowice','40-010','865-211-646','bartek_23@onet.pl','M'),
	   ('Monika','Twardowska','Warszawska','1b/76','Kraków','33-030','463-684-685','malcze_fr@gmail.com','K'),
	   ('Wacław','Korkowski','Bacowa','167','Zakopane','34-500','574-685-709','wacek_krk@gmail.com','M'),
	   ('Tomasz','Węgrowski','Akacjowa','12c/32','Wrocław','55-030','576-405-365','tomek16@onet.pl','M'),
	   ('Anna','Chmielewska','Bojkowska','1/45','Gliwice','44-100','465-375-012','anna_chm@wp.pl','K'),
	   ('Daniel','Gwarek','Gliwicka','43','Katowice','40-010','193-506-403','gwarek_daniel@onet.pl','M'),
	   ('Mirosława','Wal','Mickiewicza','12c/4','Kraków','33-030','586-504-943','m.wal@gmail.com','K'),
	   ('Dariusz','Frycz','Wolności','12/2','Świętochłowice','41-500','196-403-211','frycz_d@gmail.com','M'),
	   ('Marian','Kowalski','Jagodowa','1e/2','Białystok','15-000','574-450-230','marian_k26@onet.pl','M'),
	   ('Wanda','Lokalowa','Czereśniowa','245','Gliwice','44-100','460-201-405','lok_wanda@wp.pl','K'),
	   ('Dariusz','Woźnica','Zabrzańska','13/13','Katowice','40-010','586-405-001','dar_woz@onet.pl','M'),
	   ('Monika','Tomala','Sienkiewicza','1/14','Kraków','33-030','487-405-302','m_t@gmail.com','K'),
	   ('Gerwazy','Morawiecki','Koralowa','21a/2','Zabrze','41-700','320-695-345','g.morawieski@gmail.com','M');

INSERT INTO klasy_samochodow (nazwa_klasy)
VALUES ('miejskie'),
	   ('kompaktowe'),
	   ('sedan'),
	   ('sedan_premium'),
	   ('luksusowe'),
	   ('sportowe'),
	   ('SUV');

INSERT INTO pracownicy (imie_pracownika,nazwisko_pracownika,miasto_pracownika,telefon_pracownika,email_pracownika,szef_id) 
VALUES ('Wojciech','Anders','Wrocław','185-256-340','andersik@wp.pl',NULL),
	   ('Modest','Nowacki','Brzeg','868-456-351','nowacki_m@onet.pl',1),
	   ('Andrzej','Mróz','Kąty Wrocławskie','185-286-850','mrozno_andrej@wp.pl',2),
	   ('Franciszka','Gwolik','Wrocław','285-897-250','gwoliczka_f@gmail.com',2),
	   ('Aneta','Pawlak','Wrocław','485-757-223','anetka_pawlak@wp.pl',2);
																					
INSERT INTO samochody (marka,model,data_prod,cena_katalogowa,nr_rejestracyjny,id_klasy)
VALUES ('opel','astra',2020,270,'PI-88778',2),
       ('opel','astra',2017,240,'PI-84377',2),
	   ('mercedes','clk',2017,500,'PI-14637',6),
	   ('mercedes','clk',2017,500,'PI-54617',6),
	   ('mercedes','clk',2018,550,'PI-13237',6),
	   ('audi','a4',2018,460,'PI-48674',4),
	   ('audi','a4',2019,490,'PI-28634',4),
	   ('bmw','3',2017,455,'PI-06958',4),
	   ('bmw','3',2017,455,'PI-14672',4),
	   ('bmw','3',2021,555,'PI-34643',4),
	   ('renault','clio',2021,250,'PI-14343',1),
	   ('renault','clio',2021,250,'PI-34691',1),
	   ('renault','clio',2021,250,'PI-34200',1),
	   ('opel','corsa',2020,235,'PI-12708',1),
	   ('opel','corsa',2022,260,'PI-10067',1),
	   ('opel','corsa',2022,260,'PI-11567',1),
	   ('mercedes','s',2019,830,'PI-12000',5),
	   ('mercedes','s',2021,850,'PI-00123',5),
	   ('audi','a8',2019,830,'PI-11123',5),
	   ('audi','a8',2020,880,'PI-00100',5),
	   ('audi','a8',2020,880,'PI-58588',5),
	   ('bmw','x6',2023,1000,'PI-56548',7),
	   ('renault','megane',2018,270,'PI-18788',2),
	   ('renault','megane',2019,290,'PI-28553',2),
	   ('ford','mondeo',2015,300,'PI-68573',3),
	   ('ford','mondeo',2015,300,'PI-38573',3),
	   ('ford','mondeo',2020,390,'PI-38574',3),
	   ('ford','fiesta',2022,285,'PI-38564',1),
	   ('ford','fiesta',2022,285,'PI-38106',1),
	   ('ford','fiesta',2022,285,'PI-49204',1),
	   ('nissan','micra',2020,235,'PI-37586',1),
	   ('nissan','micra',2020,235,'PI-193874',1),
	   ('nissan','micra',2022,240,'PI-48291',1),
	   ('nissan','micra',2022,240,'PI-40693',1),
	   ('honda','civic',2019,265,'PI-13857',2),
	   ('honda','civic',2022,285,'PI-48592',2),
	   ('honda','civic',2022,285,'PI-10294',2),
	   ('volkswagen','golf',2021,270,'PI-59302',2),
	   ('volkswagen','golf',2021,270,'PI-193856',2),
	   ('volkswagen','golf',2022,280,'PI-59402',2),
	   ('volkswagen','golf',2022,280,'PI-12096',2),
	   ('skoda','octavia',2020,310,'PI-39582',3),
	   ('skoda','octavia',2020,310,'PI-34950',3),
	   ('skoda','octavia',2021,320,'PI-40562',3),
	   ('skoda','octavia',2021,320,'PI-11005',3),
	   ('skoda','octavia',2022,320,'PI-12365',3),
	   ('mercedes','c',2021,480,'PI-19583',4),
	   ('mercedes','c',2021,480,'PI-95063',4),
	   ('mercedes','c',2022,510,'PI-54594',4),
	   ('mercedes','c',2022,510,'PI-43041',4),
	   ('bmw','m3',2022,630,'PI-40325',6),
	   ('bmw','m3',2022,680,'PI-42021',6);	   

INSERT INTO wypozyczenia (data_wyp,data_zwr,id_klienta,id_pracownika)
VALUES ('2022-12-21','2022-12-22',3,3),
	   ('2022-12-21','2022-12-23',2,2),
	   ('2022-12-21','2022-12-22',4,4),
	   ('2022-12-21','2022-12-22',5,4),
	   ('2022-12-21','2022-12-22',5,4),
	   ('2022-12-21','2022-12-23',7,2),
	   ('2022-12-21','2022-12-22',1,1),
	   ('2022-12-21','2022-12-23',8,3),
	   ('2022-12-21','2022-12-24',9,1),
	   ('2022-12-21','2022-12-22',NULL,3),
	   ('2022-12-21','2022-12-27',6,2),
	   ('2022-12-21','2022-12-23',10,3),
	   ('2022-12-22','2022-12-23',11,4),
	   ('2022-12-22','2022-12-25',12,2),
	   ('2022-12-22','2022-12-23',13,3),
	   ('2022-12-22','2022-12-23',16,4),
	   ('2022-12-22','2022-12-25',18,2),
	   ('2022-12-22','2022-12-23',14,3),
	   ('2022-12-22','2022-12-23',14,3),
	   ('2022-12-22','2022-12-25',15,2),
	   ('2022-12-22','2022-12-23',13,3),
	   ('2022-12-22','2022-12-23',16,4),
	   ('2022-12-22','2022-12-25',18,2),
	   ('2022-12-23','2022-12-25',NULL,1),
	   ('2022-12-23','2022-12-26',19,4),
	   ('2022-12-23','2022-12-25',20,NULL),
	   ('2022-12-24','2022-12-25',2,1),
	   ('2022-12-24','2022-12-26',5,4),
	   ('2022-12-24','2022-12-26',21,3),
	   ('2022-12-24','2022-12-25',22,1),
	   ('2022-12-24','2022-12-26',23,4),
	   ('2022-12-24','2022-12-26',23,4),
	   ('2022-12-24','2022-12-26',24,4),
	   ('2022-12-24','2022-12-26',3,3),
	   ('2022-12-27','2022-12-28',NULL,2),
	   ('2022-12-27','2022-12-28',26,2),
	   ('2022-12-27','2022-12-28',2,1),
	   ('2022-12-28','2022-12-29',4,2),
	   ('2022-12-28','2022-12-29',27,4),
	   ('2022-12-28','2022-12-30',8,1),
	   ('2022-12-28','2022-12-30',7,2),
	   ('2022-12-28','2022-12-31',9,4),
	   ('2022-12-28','2022-12-29',10,1),
	   ('2022-12-28','2023-01-02',11,4),
	   ('2022-12-28','2022-12-31',12,1),
	   ('2022-12-29','2022-12-30',28,2),
	   ('2022-12-29','2022-12-31',14,4),
	   ('2022-12-29','2022-12-31',15,4),
	   ('2022-12-29','2023-01-02',16,2),
	   ('2022-12-29','2022-12-31',18,NULL),
	   ('2022-12-29','2023-01-02',19,1),
	   ('2022-12-30','2023-01-02',21,1),
	   ('2022-12-30','2022-12-31',6,4),
	   ('2022-12-30','2023-01-02',22,1),
	   ('2022-12-30','2023-01-03',1,2),
	   ('2022-12-30','2022-12-31',NULL,4),
	   ('2022-12-30','2023-01-01',20,1),
	   ('2022-12-31','2023-01-01',4,2),
	   ('2022-12-31','2023-01-01',5,4),
	   ('2022-12-31','2023-01-02',21,1),
	   ('2022-12-31','2023-01-03',22,2),
	   ('2022-12-31','2023-01-02',23,1),
	   ('2022-12-31','2023-01-02',23,1),
	   ('2022-12-31','2023-01-03',10,2),
	   ('2022-12-31','2023-01-02',13,4),
	   ('2022-12-31','2023-01-02',24,1),
	   ('2022-12-31','2023-01-02',3,4),
	   ('2022-12-31','2023-01-02',6,1),
	   ('2023-01-02','2023-01-03',24,4),
	   ('2023-01-02','2023-01-04',28,3),
	   ('2023-01-02','2023-01-05',7,1),
	   ('2023-01-02','2023-01-03',24,4),
	   ('2023-01-02','2023-01-03',4,2),
	   ('2023-01-02','2023-01-04',2,1),
	   ('2023-01-02','2023-01-03',27,1),
	   ('2023-01-03','2023-01-04',24,1),
	   ('2023-01-03','2023-01-04',28,2),
	   ('2023-01-03','2023-01-05',5,1),
	   ('2023-01-03','2023-01-05',24,1),
	   ('2023-01-03','2023-01-04',30,4),
	   ('2023-01-03','2023-01-06',6,3),
	   ('2023-01-04','2023-01-05',11,1),
	   ('2023-01-04','2023-01-05',12,4),
	   ('2023-01-04','2023-01-06',14,2),
	   ('2023-01-04','2023-01-05',15,1),
	   ('2023-01-04','2023-01-06',1,4),
	   ('2023-01-04','2023-01-06',3,1),
	   ('2023-01-04','2023-01-05',20,3),
	   ('2023-01-04','2023-01-05',21,4),
	   ('2023-01-04','2023-01-08',28,2),
	   ('2023-01-05','2023-01-06',29,3),
	   ('2023-01-05','2023-01-07',8,2),
	   ('2023-01-05','2023-01-07',9,1),
	   ('2023-01-05','2023-01-07',10,3),
	   ('2023-01-05','2023-01-07',2,2),
	   ('2023-01-05','2023-01-06',30,1),
	   ('2023-01-07','2023-01-08',4,4),
	   ('2023-01-07','2023-01-09',5,2),
	   ('2023-01-07','2023-01-08',19,1),
	   ('2023-01-07','2023-01-08',18,3),
	   ('2023-01-07','2023-01-10',16,2),
	   ('2023-01-08','2023-01-09',1,4),
	   ('2023-01-08','2023-01-09',2,2),
	   ('2023-01-08','2023-01-10',6,1),
	   ('2023-01-08','2023-01-09',20,1),
	   ('2023-01-08','2023-01-11',21,2),
	   ('2023-01-08','2023-01-09',24,1),
	   ('2023-01-08','2023-01-11',27,2),
	   ('2023-01-08','2023-01-09',7,1),
	   ('2023-01-08','2023-01-09',11,1),
	   ('2023-01-08','2023-01-10',12,3),
	   ('2023-01-09','2023-01-11',3,3),
	   ('2023-01-09','2023-01-10',23,1),
	   ('2023-01-09','2023-01-10',22,1),
	   ('2023-01-09','2023-01-12',29,3),
	   ('2023-01-10','2023-01-11',26,2),
	   ('2023-01-10','2023-01-12',4,1),
	   ('2023-01-10','2023-01-12',5,3),
	   ('2023-01-11','2023-01-12',2,3),
	   ('2023-01-11','2023-01-13',30,3);


INSERT INTO dane_wypozyczen (id_wypozyczenia,id_samochodu,cena_doba,ilosc_dob)
VALUES (1,14,235,1),
	   (2,3,500,2),
	   (3,12,260,1),
	   (3,16,250,1),
	   (4,2,210,1),
	   (5,34,235,1),
	   (6,13,250,2),
	   (7,31,230,1),
	   (7,15,240,1),
	   (8,1,265,2),
	   (9,4,500,3),
	   (10,5,550,1),
	   (11,7,490,6),
	   (12,9,455,2),
	   (13,11,250,1),
	   (14,17,820,3),
	   (14,20,850,3),
	   (15,21,850,1),
	   (16,8,455,1),
	   (17,6,450,3),
	   (18,10,555,1),
   	   (19,14,230,1),
	   (20,23,265,3),
	   (21,33,240,1),
	   (22,25,300,1),
	   (23,26,300,3),
	   (24,50,510,2),
	   (25,46,320,3),
	   (26,42,300,2),
	   (27,38,270,1),
	   (28,30,280,2),
	   (29,40,280,2),
	   (30,41,280,1),
	   (30,51,630,1),
	   (31,29,280,2),
	   (32,1,270,2),
	   (33,28,285,2),
	   (34,35,265,2),
	   (35,2,210,1),
	   (36,31,235,1),
	   (37,52,680,1),
	   (38,3,500,1),
	   (39,4,500,1),
	   (40,11,250,2),
	   (41,27,380,2),
	   (42,20,880,3),
	   (43,43,310,1),
	   (43,44,310,1),
	   (44,10,550,5),
	   (45,12,250,3),
	   (46,13,250,1),
	   (47,9,480,2),
	   (48,49,510,2),
	   (49,48,480,4),
	   (50,5,540,2),
	   (51,7,475,4),
	   (52,14,235,3),
	   (53,15,255,1),
	   (54,19,830,3),
	   (55,21,880,4),
	   (56,23,260,1),
	   (57,26,300,2),
	   (58,2,210,1),
	   (59,33,240,1),
	   (59,40,280,1),
	   (60,41,280,2),
	   (61,39,280,3),
	   (62,36,285,2),
	   (63,38,270,2),
	   (64,45,320,3),
	   (65,1,260,2),
	   (66,43,310,2),
	   (66,51,630,2),
	   (67,9,450,2),
	   (68,8,450,2),
	   (69,11,250,1),
	   (70,13,250,2),
	   (71,24,285,3),
	   (71,46,320,3),
	   (72,52,680,1),
	   (73,3,500,1),
 	   (74,7,490,2),
	   (75,18,850,1),
	   (76,20,880,1),
	   (77,23,270,1),
	   (78,10,550,2),
	   (79,31,230,2),
	   (80,37,285,1),
	   (81,50,500,3),
	   (82,42,310,1),
	   (83,44,320,1),
	   (84,32,235,2),
	   (85,11,250,1),
	   (86,17,800,2),
	   (87,19,800,2),
	   (88,1,260,1),
	   (89,3,480,1),
	   (90,16,260,4),
	   (91,12,250,1),
	   (92,49,510,2),
	   (93,45,320,2),
	   (94,34,240,2),
	   (95,14,235,2),
	   (96,20,880,1),
	   (97,13,250,1),
	   (98,35,265,2),
	   (99,36,275,1),
	   (101,51,630,3),
	   (102,2,210,1),
	   (103,15,260,1),
	   (104,25,300,2),
	   (105,24,290,1),
	   (105,37,285,1),
	   (106,52,680,3),
	   (106,19,830,3),
	   (107,28,285,1),
	   (108,31,235,3),
	   (109,32,235,1),
	   (110,43,310,1),
	   (111,49,510,2),
	   (112,5,550,2),
	   (113,9,450,1),
	   (114,10,555,1),
	   (115,16,260,3),
	   (116,50,510,1),
	   (117,29,285,2),
	   (118,27,390,2),
	   (119,23,270,1),
	   (120,25,300,2);